# {{ ansible_managed }}
###############################################################################
# Apache Security Configuration
# Generated by Ansible - DO NOT EDIT MANUALLY
###############################################################################

# Disable server signature
ServerSignature {{ httpd_server_signature }}
ServerTokens {{ httpd_server_tokens }}

# Disable TRACE method
TraceEnable {{ httpd_trace_enable }}

# Clickjacking protection
Header always append X-Frame-Options SAMEORIGIN

# XSS Protection
Header set X-XSS-Protection "1; mode=block"

# Prevent MIME-sniffing
Header set X-Content-Type-Options nosniff

# Referrer Policy
Header set Referrer-Policy "strict-origin-when-cross-origin"

# Content Security Policy (adjust as needed)
# Header set Content-Security-Policy "default-src 'self';"

# Disable directory listing
<Directory "{{ httpd_document_root }}">
    Options -Indexes +FollowSymLinks
</Directory>

# Hide Apache version and OS
ServerTokens Prod
ServerSignature Off

# Limit request size (10MB)
LimitRequestBody 10485760

# Timeout settings
Timeout 60
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5

# Disable unnecessary modules (uncomment to apply)
# <IfModule mod_autoindex.c>
#     Options -Indexes
# </IfModule>
